<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ubicación e IP</title>
</head>
<body>
  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // Función para obtener la información de la API
      function fetchIPData() {
        fetch('https://ipapi.co/json/?lang=es')
          .then(response => response.json())
          .then(data => {
            // Construir el JSON de respuesta
            const jsonData = {
              "status": "success",
              "country": data.country_name,
              "countryCode": data.country_code,
              "region": data.region,
              "regionName": data.region,
              "city": data.city,
              "zip": data.postal,
              "lat": data.latitude,
              "lon": data.longitude,
              "timezone": data.timezone,
              "isp": data.org,
              "org": data.org,
              "as": data.as,
              "query": data.ip
            };

            // Mostrar el resultado en JSON formateado
            document.body.innerHTML = `<pre>${JSON.stringify(jsonData, null, 2)}</pre>`;
          })
          .catch(error => {
            console.error('Error al obtener la información:', error);
          });
      }

      // Llamar a la función para obtener los datos
      fetchIPData();
    });
  </script>
</body>
</html>
